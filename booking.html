<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Your Service - ServiceHub Pro</title>
    <link rel="stylesheet" href="css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
</head>
<body class="bg-background">
    <!-- Navigation Header -->
    <nav class="bg-white shadow-custom-sm border-b border-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <svg class="h-10 w-10 text-primary" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="40" height="40" rx="8" fill="currentColor"/>
                            <path d="M12 14h16v2H12v-2zm0 4h16v2H12v-2zm0 4h12v2H12v-2z" fill="white"/>
                            <circle cx="30" cy="26" r="4" fill="white"/>
                            <path d="M28 26l1.5 1.5L32 25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h1 class="text-xl font-bold text-text-primary">ServiceHub Pro</h1>
                        <p class="text-xs text-text-muted">S.N. Refrigeration & Electrical</p>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="index.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md text-sm transition-colors">Home</a>
                        <a href="service_categories.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md text-sm transition-colors">Services</a>
                        <a href="booking.html" class="text-primary font-semibold px-3 py-2 rounded-md text-sm">Book Now</a>
                           
                    </div>
                </div>

                <!-- Emergency Call Button -->
                <div class="flex items-center space-x-4">
                    <a href="tel:+919910853037" class="bg-accent text-white px-4 py-2 rounded-lg font-semibold text-sm hover:bg-accent-700 transition-colors">
                        Emergency Call
                    </a>
                    <!-- Mobile menu button -->
                    <button class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-text-secondary hover:text-primary hover:bg-surface focus:outline-none focus:ring-2 focus:ring-primary">
                        <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content - Booking Form -->
    <main class="py-12 sm:py-16 animate-gradient-bg">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl p-6 sm:p-10 shadow-custom-lg border border-border animate-fade-in-up">
                <!-- Form Header -->
                <div class="text-center mb-8 animate-fade-in-up animation-delay-100">
                    <h1 class="text-3xl lg:text-4xl font-bold text-text-primary">Book Your Service</h1>
                    <p class="mt-2 text-base sm:text-lg text-text-secondary">S.N. Refrigeration and Electrical Service Centre - Greater Noida</p>
                </div>

                <!-- Form -->
                <form id="booking-form" action="https://sheetdb.io/api/v1/756bkdx3v4ck6" method="POST" class="space-y-6">
                    <!-- Name and Phone -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in-up animation-delay-200">
                        <div>
                            <label for="name" class="block text-sm font-medium text-text-primary">Full Name</label>
                            <input type="text" id="name" name="data[0][Name]" placeholder="Enter your full name" pattern="^[A-Za-z ]{3,50}$" title="Name should only contain letters (min 3 chars)" required class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-text-primary">Phone Number</label>
                            <input type="tel" id="phone" name="data[0][Phone Number]" placeholder="Enter 10-digit phone number" pattern="^[0-9]{10}$" title="Enter 10 digit mobile number" required class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                        </div>
                    </div>

                    <!-- Email and Address -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in-up animation-delay-300">
                        <div>
                            <label for="email" class="block text-sm font-medium text-text-primary">Email Address</label>
                            <input type="email" id="email" name="data[0][Email Address]" placeholder="example@email.com" required class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                        </div>
                        <div>
                            <label for="address" class="block text-sm font-medium text-text-primary">Full Address</label>
                            <input type="text" id="address" name="data[0][Address]" placeholder="Enter your complete address" required class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                        </div>
                    </div>

                    <!-- Service -->
                    <div class="animate-fade-in-up animation-delay-400">
                        <label for="service" class="block text-sm font-medium text-text-primary">Select Service</label>
                        <select id="service" name="data[0][Select Service]" required class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                            <option value="">-- Select a Service --</option>
                            <option value="AC Repair">AC Repair</option>
                            <option value="Fridge Repair">Fridge Repair</option>
                            <option value="Washing Machine Repair">Washing Machine Repair</option>
                            <option value="Microwave Repair">Microwave Repair</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <!-- Date and Time -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in-up animation-delay-500">
                        <div>
                            <label for="date" class="block text-sm font-medium text-text-primary">Preferred Date</label>
                            <input type="date" id="date" name="data[0][Preferred Date]" required class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                        </div>
                        <div>
                            <label for="time" class="block text-sm font-medium text-text-primary">Preferred Time Slot</label>
                            <select id="time" name="data[0][Preferred Time]" required class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                                <option value="">-- Select a Time Slot --</option>
                                <option value="Morning (9AM - 12PM)">Morning (9AM - 12PM)</option>
                                <option value="Afternoon (12PM - 3PM)">Afternoon (12PM - 3PM)</option>
                                <option value="Evening (3PM - 7PM)">Evening (3PM - 7PM)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Description -->
                    <div class="animate-fade-in-up animation-delay-600">
                        <label for="desc" class="block text-sm font-medium text-text-primary">Service Description</label>
                        <textarea id="desc" name="data[0][Service Description]" placeholder="Please describe the issue with your appliance..." required rows="4" class="mt-1 block w-full rounded-lg border-border shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-3 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5"></textarea>
                    </div>

                    <!-- Submit Button -->
                    <div class="pt-4 animate-fade-in-up animation-delay-700">
                        <button type="submit" id="submit-button" class="w-full flex justify-center items-center bg-accent text-white px-8 py-3 rounded-lg font-semibold text-lg hover:bg-accent-700 transition-colors text-center shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed">
                            <span id="button-text">Book Service Now</span>
                            <svg id="button-loader" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-text-primary text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div class="space-y-4">
                    <div class="flex items-center space-x-3">
                        <svg class="h-8 w-8 text-primary" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="40" height="40" rx="8" fill="currentColor"/>
                            <path d="M12 14h16v2H12v-2zm0 4h16v2H12v-2zm0 4h12v2H12v-2z" fill="white"/>
                            <circle cx="30" cy="26" r="4" fill="white"/>
                            <path d="M28 26l1.5 1.5L32 25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div>
                            <h3 class="text-lg font-bold">ServiceHub Pro</h3>
                            <p class="text-sm text-gray-400">S.N. Refrigeration & Electrical</p>
                        </div>
                    </div>
                    <p class="text-gray-400 text-sm">
                        Professional appliance repair and maintenance services with complete transparency and guaranteed satisfaction.
                    </p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                        <li><a href="service_categories.html" class="text-gray-400 hover:text-white transition-colors">Services</a></li>
                        <li><a href="booking.html" class="text-gray-400 hover:text-white transition-colors">Book Service</a></li>
                       
                    </ul>
                </div>

                <!-- Services -->
                <div>
                    <h4 class="font-semibold mb-4">Our Services</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="service_categories.html" class="text-gray-400 hover:text-white transition-colors">AC Repair</a></li>
                        <li><a href="service_categories.html" class="text-gray-400 hover:text-white transition-colors">Refrigerator Service</a></li>
                        <li><a href="service_categories.html" class="text-gray-400 hover:text-white transition-colors">Washing Machine</a></li>
                        <li><a href="service_categories.html" class="text-gray-400 hover:text-white transition-colors">Electrical Work</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div>
                    <h4 class="font-semibold mb-4">Contact Us</h4>
                    <div class="space-y-2 text-sm text-gray-400">
                        <p>üìû +91 99108 53037</p>
                        <p>üìß fatehbahadur121@gmail.com</p>
                        <p>üìç tilpata karanwas, Sheorajpur, Greater Noida, Tilpata Karanwas, Uttar Pradesh 201311</p>
                        <p>üïí 24/7 Emergency Service</p>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
                <p>¬© 2025 ServiceHub Pro. All Rights Reserved. | Privacy Policy | Terms of Service</p>
            </div>
        </div>
    </footer>

    <script>
        const form = document.getElementById('booking-form');
        const submitButton = document.getElementById('submit-button');
        const buttonText = document.getElementById('button-text');
        const buttonLoader = document.getElementById('button-loader');
    
        form.addEventListener("submit", e => {
            e.preventDefault();
            
            // Disable button and show loader
            submitButton.disabled = true;
            buttonText.textContent = 'Submitting...';
            buttonLoader.classList.remove('hidden');
    
            fetch(form.action, {
                method: "POST",
                body: new FormData(form),
            })
            .then(response => response.json())
            .then(data => {
                // Show party animation on success
                showPartyAnimation(submitButton);

                // Delay redirect to allow animation to be seen
                setTimeout(() => {
                    alert("‚úÖ Your booking has been submitted successfully! We will contact you shortly.");
                    window.location.href = "index.html"; 
                }, 1000); // Redirect after 1 second
            })
            .catch(error => {
                alert("‚ùå An error occurred while submitting the form. Please try again.");
                console.error(error);
                // Re-enable button
                submitButton.disabled = false;
                buttonText.textContent = 'Book Service Now';
                buttonLoader.classList.add('hidden');
            });
        });

        function showPartyAnimation(buttonElement) {
            const container = document.createElement('div');
            container.className = 'party-popper-container';
            document.body.appendChild(container);
            const popperCount = 40; // More poppers for full screen effect
            for (let i = 0; i < popperCount; i++) {
                const popper = document.createElement('span');
                popper.className = 'party-popper';
                popper.textContent = 'ü•≥';
                // Random horizontal position across the screen
                popper.style.left = `${Math.random() * 100}vw`;
                // Random animation delay for a staggered effect
                popper.style.animationDelay = `${Math.random() * 2}s`;
                // Random size for variety
                popper.style.fontSize = `${Math.random() * 1.5 + 1.5}rem`;
                container.appendChild(popper);
            }
            setTimeout(() => {
                document.body.removeChild(container);
            }, 4500); // Increased timeout to allow all animations to finish
        }

        // Mobile menu toggle and form enhancements
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuButton = document.querySelector('button[class*="md:hidden"]');
            const mobileMenu = document.createElement('div');
            const nav = document.querySelector('nav');
            mobileMenu.className = 'md:hidden bg-white border-t border-border';
            mobileMenu.innerHTML = `
                <div class="px-2 pt-2 pb-3 space-y-1">
                    <a href="index.html" class="text-text-secondary hover:text-primary block px-3 py-2 rounded-md text-base">Home</a>
                    <a href="service_categories.html" class="text-text-secondary hover:text-primary block px-3 py-2 rounded-md text-base">Services</a>
                    <a href="booking.html" class="text-primary font-semibold block px-3 py-2 rounded-md text-base">Book Now</a>
                </div>
            `;

            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', function() {
                    if (nav.contains(mobileMenu)) {
                        nav.removeChild(mobileMenu);
                    } else {
                        nav.appendChild(mobileMenu);
                    }
                });
            }

            // --- Form Enhancements ---

            // 1. Set minimum date for the date input to today
            const dateInput = document.getElementById('date');
            if (dateInput) {
                const today = new Date();
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed
                const day = String(today.getDate()).padStart(2, '0');
                const todayString = `${year}-${month}-${day}`;
                dateInput.setAttribute('min', todayString);
            }

            // 2. Real-time validation for the name input to allow only letters and spaces
            const nameInput = document.getElementById('name');
            if (nameInput) {
                nameInput.addEventListener('input', function (e) {
                    e.target.value = e.target.value.replace(/[^A-Za-z ]/g, '');
                });
            }
        });
    </script>
</body>
</html>
